{"_id":{"$oid":"6835751c2e502842ced861e0"},"intitule":"Classe les étapes d'une requête d'agrégation pour grouper les joueurs par poste et trier par nombre décroissant.","type":"ordonner","niveau":3,"collection_cible":"foot_joueurs","reponses":[{"texte":"{$match: {}}","correcte":true},{"texte":"{$group: {_id: '$poste', total: {$sum: 1}}}","correcte":true},{"texte":"{$sort: {total: -1}}","correcte":true}],"explication":"On commence par filtrer (ici aucun filtre), puis on groupe, puis on trie.","ordre_attendu":["{$match: {}}","{$group: {_id: '$poste', total: {$sum: 1}}}","{$sort: {total: -1}}"]}
{"_id":{"$oid":"6835751c2e502842ced861e1"},"intitule":"Classe les étapes pour afficher les étapes du Tour de France de plus de 150 km, triées par distance décroissante.","type":"ordonner","niveau":2,"collection_cible":"tdf_etapes","reponses":[{"texte":"{$match: {distance_km: {$gt: 150}}}","correcte":true},{"texte":"{$sort: {distance_km: -1}}","correcte":true}],"explication":"On filtre d'abord les étapes > 150 km, puis on trie par distance.","ordre_attendu":["{$match: {distance_km: {$gt: 150}}}","{$sort: {distance_km: -1}}"]}
{"_id":{"$oid":"6835751c2e502842ced861e2"},"intitule":"Classe les étapes pour obtenir la liste des équipes de foot triées alphabétiquement.","type":"ordonner","niveau":1,"collection_cible":"foot_equipes","reponses":[{"texte":"{$sort: {nom: 1}}","correcte":true}],"explication":"Une simple étape de tri suffit ici.","ordre_attendu":["{$sort: {nom: 1}}"]}
{"_id":{"$oid":"6835751c2e502842ced861e3"},"intitule":"Classe les étapes pour compter le nombre de joueurs par équipe.","type":"ordonner","niveau":2,"collection_cible":"foot_joueurs","reponses":[{"texte":"{$group: {_id: '$equipe_id', nb_joueurs: {$sum: 1}}}","correcte":true}],"explication":"Un groupement simple sur `equipe_id` permet de compter.","ordre_attendu":["{$group: {_id: '$equipe_id', nb_joueurs: {$sum: 1}}}"]}
{"_id":{"$oid":"6835751c2e502842ced861e4"},"intitule":"Classe les étapes pour filtrer les joueurs de plus de 30 ans et ne montrer que leur nom et poste.","type":"ordonner","niveau":2,"collection_cible":"foot_joueurs","reponses":[{"texte":"{$match: {age: {$gt: 30}}}","correcte":true},{"texte":"{$project: {nom: 1, poste: 1}}","correcte":true}],"explication":"On filtre d'abord, puis on projette les champs voulus.","ordre_attendu":["{$match: {age: {$gt: 30}}}","{$project: {nom: 1, poste: 1}}"]}
{"_id":{"$oid":"6835751c2e502842ced861e5"},"intitule":"Classe les étapes pour afficher les cyclistes français et trier par nom croissant.","type":"ordonner","niveau":2,"collection_cible":"tdf_cyclistes","reponses":[{"texte":"{$match: {nationalite: 'France'}}","correcte":true},{"texte":"{$sort: {nom: 1}}","correcte":true}],"explication":"On filtre les Français, puis on trie par nom.","ordre_attendu":["{$match: {nationalite: 'France'}}","{$sort: {nom: 1}}"]}
{"_id":{"$oid":"6835751c2e502842ced861e6"},"intitule":"Classe les étapes pour obtenir les 5 étapes les plus longues du Tour de France.","type":"ordonner","niveau":3,"collection_cible":"tdf_etapes","reponses":[{"texte":"{$sort: {distance_km: -1}}","correcte":true},{"texte":"{$limit: 5}","correcte":true}],"explication":"On trie par distance décroissante, puis on limite à 5.","ordre_attendu":["{$sort: {distance_km: -1}}","{$limit: 5}"]}
{"_id":{"$oid":"6835751c2e502842ced861e7"},"intitule":"Classe les étapes pour regrouper les matchs par stade et compter combien ont eu lieu dans chaque.","type":"ordonner","niveau":3,"collection_cible":"foot_matchs","reponses":[{"texte":"{$group: {_id: '$stade', nb_matchs: {$sum: 1}}}","correcte":true},{"texte":"{$sort: {nb_matchs: -1}}","correcte":true}],"explication":"On regroupe par stade, puis on trie par nombre de matchs.","ordre_attendu":["{$group: {_id: '$stade', nb_matchs: {$sum: 1}}}","{$sort: {nb_matchs: -1}}"]}
{"_id":{"$oid":"6835751c2e502842ced861e8"},"intitule":"Classe les étapes pour afficher les entraîneurs des équipes de foot, sans doublon.","type":"ordonner","niveau":2,"collection_cible":"foot_equipes","reponses":[{"texte":"{$group: {_id: '$entraineur'}}","correcte":true}],"explication":"Un simple `$group` sur `entraineur` permet d’obtenir les noms uniques.","ordre_attendu":["{$group: {_id: '$entraineur'}}"]}
{"_id":{"$oid":"6835751c2e502842ced861e9"},"intitule":"Classe les étapes pour afficher les joueurs triés par âge décroissant, mais seulement les 3 premiers.","type":"ordonner","niveau":3,"collection_cible":"foot_joueurs","reponses":[{"texte":"{$sort: {age: -1}}","correcte":true},{"texte":"{$limit: 3}","correcte":true}],"explication":"On trie par âge, puis on limite le résultat.","ordre_attendu":["{$sort: {age: -1}}","{$limit: 3}"]}
{"_id":{"$oid":"6835752c2e502842ced861ea"},"intitule":"Quelle requête permet de trouver les équipes dont le pays est 'Espagne' ?","type":"choix_unique","niveau":1,"collection_cible":"foot_equipes","reponses":[{"texte":"db.foot_equipes.find({pays: 'Espagne'})","correcte":true},{"texte":"db.foot_equipes.find({nom: 'Espagne'})","correcte":false},{"texte":"db.foot_equipes.find({nationalite: 'Espagne'})","correcte":false},{"texte":"db.foot_equipes.find({continent: 'Europe'})","correcte":false}],"explication":"Le champ 'pays' doit être ciblé pour filtrer sur l'Espagne."}
{"_id":{"$oid":"6835752c2e502842ced861eb"},"intitule":"Quelles syntaxes sont correctes pour filtrer les joueurs nés après 1990 ?","type":"choix_multiple","niveau":2,"collection_cible":"foot_joueurs","reponses":[{"texte":"db.foot_joueurs.find({naissance: {$gt: new Date('1990-01-01')}})","correcte":true},{"texte":"db.foot_joueurs.find({naissance: {$lt: new Date('1990-01-01')}})","correcte":false},{"texte":"db.foot_joueurs.find({date_naissance: {$gt: '1990'}})","correcte":false},{"texte":"db.foot_joueurs.find({naissance: {$gte: new Date('1991-01-01')}})","correcte":true}],"explication":"L'utilisation de new Date permet de comparer correctement les dates."}
{"_id":{"$oid":"6835752c2e502842ced861ec"},"intitule":"Complète cette requête : db.tdf_cyclistes.find(","type":"complete_requete","niveau":2,"collection_cible":"tdf_cyclistes","reponses":[{"texte":"{age: {$gte: 25, $lte: 30}})","correcte":true},{"texte":"{age: [25,30]})","correcte":false},{"texte":"{age: {$range: [25,30]}})","correcte":false},{"texte":"{age >= 25 and age <= 30})","correcte":false}],"explication":"L'opérateur Mongo pour une double condition sur un champ est {$gte: val, $lte: val}."}
{"_id":{"$oid":"6835752c2e502842ced861ed"},"intitule":"Ordre correct pour une requête qui trie les matchs par date décroissante puis par score équipe1 décroissant.","type":"ordonner","niveau":3,"collection_cible":"foot_matchs","reponses":[{"texte":"{$sort: {date: -1, 'score.equipe1': -1}}","correcte":true}],"explication":"On peut combiner plusieurs critères dans $sort.","ordre_attendu":["{$sort: {date: -1, 'score.equipe1': -1}}"]}
{"_id":{"$oid":"6835752c2e502842ced861ee"},"intitule":"Quelle requête récupère toutes les étapes de plus de 150km ?","type":"choix_unique","niveau":1,"collection_cible":"tdf_etapes","reponses":[{"texte":"db.tdf_etapes.find({distance: {$gt: 150}})","correcte":true},{"texte":"db.tdf_etapes.find({distance: >150})","correcte":false},{"texte":"db.tdf_etapes.find({distance > 150})","correcte":false},{"texte":"db.tdf_etapes.find({length: {$gt: 150}})","correcte":false}],"explication":"Seule la première utilise la bonne syntaxe MongoDB."}
{"_id":{"$oid":"6835752c2e502842ced861ef"},"intitule":"Complète : db.foot_matchs.find(","type":"complete_requete","niveau":2,"collection_cible":"foot_matchs","reponses":[{"texte":"{'score.equipe1': {$eq: 'score.equipe2'}})","correcte":false},{"texte":"{$where: function() { return this.score.equipe1 === this.score.equipe2; }})","correcte":true},{"texte":"{score: {equipe1: 'equipe2'}})","correcte":false},{"texte":"{'score.equipe1': {$gte: 'score.equipe2'}})","correcte":false}],"explication":"L'opérateur $where permet de comparer deux champs dans un document."}
{"_id":{"$oid":"6835752c2e502842ced861f0"},"intitule":"Classe ces étapes pour trier les cyclistes par nom croissant puis par nombre de participations décroissant.","type":"ordonner","niveau":3,"collection_cible":"tdf_cyclistes","reponses":[{"texte":"{$sort: {nom: 1, participations: -1}}","correcte":true}],"explication":"On trie d'abord par nom (1), ensuite par participations (-1).","ordre_attendu":["{$sort: {nom: 1, participations: -1}}"]}
{"_id":{"$oid":"6835752c2e502842ced861f1"},"intitule":"Quelles requêtes permettent de trouver les étapes de type 'montagne' ?","type":"choix_multiple","niveau":1,"collection_cible":"tdf_etapes","reponses":[{"texte":"db.tdf_etapes.find({type: 'montagne'})","correcte":true},{"texte":"db.tdf_etapes.find({categorie: 'montagne'})","correcte":false},{"texte":"db.tdf_etapes.find({type: {$eq: 'montagne'}})","correcte":true},{"texte":"db.tdf_etapes.find({type: {$ne: 'plaine'}})","correcte":false}],"explication":"Il faut cibler le champ 'type' avec l'opérateur $eq ou directement."}
{"_id":{"$oid":"6835752c2e502842ced861f2"},"intitule":"Quelle est la bonne requête pour compter le nombre total de matchs ?","type":"choix_unique","niveau":2,"collection_cible":"foot_matchs","reponses":[{"texte":"db.foot_matchs.countDocuments()","correcte":true},{"texte":"db.foot_matchs.length()","correcte":false},{"texte":"db.foot_matchs.count()","correcte":false},{"texte":"db.foot_matchs.aggregate({$count: '*'})","correcte":false}],"explication":"La méthode recommandée est countDocuments()."}
{"_id":{"$oid":"6835752c2e502842ced861f3"},"intitule":"Complète la requête : db.foot_joueurs.find(","type":"complete_requete","niveau":1,"collection_cible":"foot_joueurs","reponses":[{"texte":"{poste: {$in: ['gardien', 'défenseur']}})","correcte":true},{"texte":"{poste: 'gardien' || 'défenseur'})","correcte":false},{"texte":"{poste: {$or: ['gardien', 'défenseur']}})","correcte":false},{"texte":"{poste: {$any: ['gardien', 'défenseur']}})","correcte":false}],"explication":"L'opérateur $in permet de filtrer plusieurs valeurs possibles."}
{"_id":{"$oid":"683d756f52864902a7d861e0"},"intitule":"Quelle requête permet de trouver tous les joueurs français ?","type":"choix_unique","niveau":1,"collection_cible":"foot_joueurs","reponses":[{"texte":"db.foot_joueurs.find({equipe_id: 'France'})","correcte":false},{"texte":"db.foot_joueurs.find({equipe: 'France'})","correcte":false},{"texte":"db.foot_joueurs.find({equipe_id: ObjectId('665000000000000000000001')})","correcte":true},{"texte":"db.foot_joueurs.find({nom: 'France'})","correcte":false}],"explication":"Les joueurs français ont l'equipe_id correspondant à l'ObjectId de l'équipe de France. Il faut utiliser la référence ObjectId, pas le nom de l'équipe."}
{"_id":{"$oid":"683d756f52864902a7d861e1"},"intitule":"Comment compter le nombre total d'équipes de football ?","type":"choix_unique","niveau":1,"collection_cible":"foot_equipes","reponses":[{"texte":"db.foot_equipes.count()","correcte":true},{"texte":"db.foot_equipes.length()","correcte":false},{"texte":"db.foot_equipes.size()","correcte":false},{"texte":"db.foot_equipes.total()","correcte":false}],"explication":"La méthode count() permet de compter le nombre de documents dans une collection."}
{"_id":{"$oid":"683d756f52864902a7d861e2"},"intitule":"Quelle requête trouve tous les cyclistes danois ?","type":"choix_unique","niveau":1,"collection_cible":"tdf_cyclistes","reponses":[{"texte":"db.tdf_cyclistes.find({pays: 'Danemark'})","correcte":false},{"texte":"db.tdf_cyclistes.find({nationalite: 'Danemark'})","correcte":true},{"texte":"db.tdf_cyclistes.find({origine: 'Danemark'})","correcte":false},{"texte":"db.tdf_cyclistes.find({nation: 'Danemark'})","correcte":false}],"explication":"Le champ pour la nationalité des cyclistes est 'nationalite', pas 'pays' ou autre."}
